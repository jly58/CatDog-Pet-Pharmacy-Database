{# Citation for prescriptions.js
--Date: 2/13/24
--Adapted from: Flask Starter App Guide
--Source URL: https://github.com/osu-cs340-ecampus/flask-starter-app #}

{% extends 'layouts.html'%}
{% block content %}

<!-- will implement 'includes' templates after CRUD -->

<h1>Browse Prescriptions</h1>

<div class="table-container">
    <table class="table table-sm table-hover" id="table">
        <caption>List of prescriptions</caption>
        <thead>
            <tr>
                {% for key in Prescriptions[0].keys() %}
                <th>
                    {{ key }}
                </th>
                {% endfor %}
            </tr>
        </thead>

        <tbody class="table-group-divider">
            {% for prescription in Prescriptions %}
            <tr>
                {% for key in prescription.keys() %}
                <td>{{prescription[key]}}</td>
                {% endfor %}

                <td> <a href="/edit_prescription/{{ prescription['id_prescription']}}" type="button"
                        class="btn btn-outline-success">Edit</a> </td>
                <td> <a href="/del_prescription/{{ prescription['id_prescription']}}" button type="button"
                        class="btn btn-outline-dark">Delete</button></td>
            </tr>
            {% endfor %}

        </tbody>
    </table>

    <a href="/add_prescription" class="navPage">Add Prescription</a>
</div>

<p>&nbsp;</p>
<div id="update">
    <form id="updatePrescription">
        <legend><strong>Update Prescription</strong></legend>
        <fieldset class="fields">
            <p>Please enter the following information of the prescription to be updated</p>
            <label for="id_prescription">Select a prescription (ID):</label>
            <select id="id_prescription" name="id_prescription">
                <option value="1">2023-05-06 10:00:00 (1)</option>
                <option value="2">2023-12-14 11:00:00 (2)</option>
                <option value="3">2024-02-01 12:00:00 (3)</option>
            </select>
            <label> order_date: </label> <input type="datetime-local" name="order_date">
            <label>prescription_cost (will be calculated automatically)</label>
            <label> was_picked_up: </label>
            <select name="picked_up">
                <option value="">--Select--</option>
                <option value="1">Yes</option>
                <option value="0">No</option>
            </select>
            <label for="id_pet">pet (ID):</label>
            <select id="id_pet" name="id_pet">
                <option value="1">Fido (1)</option>
                <option value="2">Whiskers (2)</option>
                <option value="3">Rex (3)</option>
            </select>
        </fieldset>
        <input class="btn" type="submit" id="UpdateSavePrescription" value="Update Prescription">
        <input class="btn" type="button" value="Cancel">
    </form>
</div><!-- update -->
<p>&nbsp;</p>
{% endblock %}